[{"data":1,"prerenderedAt":813},["ShallowReactive",2],{"content-query-EApQ24ObSY":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"body":9,"_type":807,"_id":808,"_source":809,"_file":810,"_stem":811,"_extension":812},"/vite","",false,"Vite Plugin","Wire BundleWatch into Vite or Rollup builds.",{"type":10,"children":11,"toc":797},"root",[12,21,34,55,62,101,107,347,365,372,385,427,433,638,644,665,671,679,685,735,778,791],{"type":13,"tag":14,"props":15,"children":17},"element","h1",{"id":16},"vite-plugin",[18],{"type":19,"value":20},"text","⚡ Vite Plugin",{"type":13,"tag":22,"props":23,"children":24},"p",{},[25,27],{"type":19,"value":26},"Package: ",{"type":13,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":19,"value":33},"@milencode/bundlewatch-vite-plugin",{"type":13,"tag":22,"props":35,"children":36},{},[37,39,45,47,53],{"type":19,"value":38},"The current Vite plugin relies on the legacy filesystem collector (",{"type":13,"tag":28,"props":40,"children":42},{"className":41},[],[43],{"type":19,"value":44},"MetricsCollector",{"type":19,"value":46},") inside the ",{"type":13,"tag":28,"props":48,"children":50},{"className":49},[],[51],{"type":19,"value":52},"closeBundle",{"type":19,"value":54}," hook. A parser-driven version is in progress; until then you still get Git storage, comparisons, and dashboards.",{"type":13,"tag":56,"props":57,"children":59},"h2",{"id":58},"install",[60],{"type":19,"value":61},"Install",{"type":13,"tag":63,"props":64,"children":68},"pre",{"code":65,"language":66,"meta":5,"className":67,"style":5},"pnpm add -D @milencode/bundlewatch-vite-plugin\n","bash","language-bash shiki shiki-themes github-dark",[69],{"type":13,"tag":28,"props":70,"children":71},{"__ignoreMap":5},[72],{"type":13,"tag":73,"props":74,"children":77},"span",{"class":75,"line":76},"line",1,[78,84,90,96],{"type":13,"tag":73,"props":79,"children":81},{"style":80},"--shiki-default:#B392F0",[82],{"type":19,"value":83},"pnpm",{"type":13,"tag":73,"props":85,"children":87},{"style":86},"--shiki-default:#9ECBFF",[88],{"type":19,"value":89}," add",{"type":13,"tag":73,"props":91,"children":93},{"style":92},"--shiki-default:#79B8FF",[94],{"type":19,"value":95}," -D",{"type":13,"tag":73,"props":97,"children":98},{"style":86},[99],{"type":19,"value":100}," @milencode/bundlewatch-vite-plugin\n",{"type":13,"tag":56,"props":102,"children":104},{"id":103},"configure",[105],{"type":19,"value":106},"Configure",{"type":13,"tag":63,"props":108,"children":112},{"code":109,"language":110,"meta":5,"className":111,"style":5},"// vite.config.ts\nimport { defineConfig } from 'vite';\nimport { bundleWatch } from '@milencode/bundlewatch-vite-plugin';\n\nexport default defineConfig({\n  plugins: [\n    bundleWatch({\n      printReport: true,\n      compareAgainst: 'main',\n      saveToGit: process.env.CI === 'true',\n      generateDashboard: true,\n    }),\n  ],\n});\n","ts","language-ts shiki shiki-themes github-dark",[113],{"type":13,"tag":28,"props":114,"children":115},{"__ignoreMap":5},[116,125,156,182,192,216,225,238,257,275,303,320,329,338],{"type":13,"tag":73,"props":117,"children":118},{"class":75,"line":76},[119],{"type":13,"tag":73,"props":120,"children":122},{"style":121},"--shiki-default:#6A737D",[123],{"type":19,"value":124},"// vite.config.ts\n",{"type":13,"tag":73,"props":126,"children":128},{"class":75,"line":127},2,[129,135,141,146,151],{"type":13,"tag":73,"props":130,"children":132},{"style":131},"--shiki-default:#F97583",[133],{"type":19,"value":134},"import",{"type":13,"tag":73,"props":136,"children":138},{"style":137},"--shiki-default:#E1E4E8",[139],{"type":19,"value":140}," { defineConfig } ",{"type":13,"tag":73,"props":142,"children":143},{"style":131},[144],{"type":19,"value":145},"from",{"type":13,"tag":73,"props":147,"children":148},{"style":86},[149],{"type":19,"value":150}," 'vite'",{"type":13,"tag":73,"props":152,"children":153},{"style":137},[154],{"type":19,"value":155},";\n",{"type":13,"tag":73,"props":157,"children":159},{"class":75,"line":158},3,[160,164,169,173,178],{"type":13,"tag":73,"props":161,"children":162},{"style":131},[163],{"type":19,"value":134},{"type":13,"tag":73,"props":165,"children":166},{"style":137},[167],{"type":19,"value":168}," { bundleWatch } ",{"type":13,"tag":73,"props":170,"children":171},{"style":131},[172],{"type":19,"value":145},{"type":13,"tag":73,"props":174,"children":175},{"style":86},[176],{"type":19,"value":177}," '@milencode/bundlewatch-vite-plugin'",{"type":13,"tag":73,"props":179,"children":180},{"style":137},[181],{"type":19,"value":155},{"type":13,"tag":73,"props":183,"children":185},{"class":75,"line":184},4,[186],{"type":13,"tag":73,"props":187,"children":189},{"emptyLinePlaceholder":188},true,[190],{"type":19,"value":191},"\n",{"type":13,"tag":73,"props":193,"children":195},{"class":75,"line":194},5,[196,201,206,211],{"type":13,"tag":73,"props":197,"children":198},{"style":131},[199],{"type":19,"value":200},"export",{"type":13,"tag":73,"props":202,"children":203},{"style":131},[204],{"type":19,"value":205}," default",{"type":13,"tag":73,"props":207,"children":208},{"style":80},[209],{"type":19,"value":210}," defineConfig",{"type":13,"tag":73,"props":212,"children":213},{"style":137},[214],{"type":19,"value":215},"({\n",{"type":13,"tag":73,"props":217,"children":219},{"class":75,"line":218},6,[220],{"type":13,"tag":73,"props":221,"children":222},{"style":137},[223],{"type":19,"value":224},"  plugins: [\n",{"type":13,"tag":73,"props":226,"children":228},{"class":75,"line":227},7,[229,234],{"type":13,"tag":73,"props":230,"children":231},{"style":80},[232],{"type":19,"value":233},"    bundleWatch",{"type":13,"tag":73,"props":235,"children":236},{"style":137},[237],{"type":19,"value":215},{"type":13,"tag":73,"props":239,"children":241},{"class":75,"line":240},8,[242,247,252],{"type":13,"tag":73,"props":243,"children":244},{"style":137},[245],{"type":19,"value":246},"      printReport: ",{"type":13,"tag":73,"props":248,"children":249},{"style":92},[250],{"type":19,"value":251},"true",{"type":13,"tag":73,"props":253,"children":254},{"style":137},[255],{"type":19,"value":256},",\n",{"type":13,"tag":73,"props":258,"children":260},{"class":75,"line":259},9,[261,266,271],{"type":13,"tag":73,"props":262,"children":263},{"style":137},[264],{"type":19,"value":265},"      compareAgainst: ",{"type":13,"tag":73,"props":267,"children":268},{"style":86},[269],{"type":19,"value":270},"'main'",{"type":13,"tag":73,"props":272,"children":273},{"style":137},[274],{"type":19,"value":256},{"type":13,"tag":73,"props":276,"children":278},{"class":75,"line":277},10,[279,284,289,294,299],{"type":13,"tag":73,"props":280,"children":281},{"style":137},[282],{"type":19,"value":283},"      saveToGit: process.env.",{"type":13,"tag":73,"props":285,"children":286},{"style":92},[287],{"type":19,"value":288},"CI",{"type":13,"tag":73,"props":290,"children":291},{"style":131},[292],{"type":19,"value":293}," ===",{"type":13,"tag":73,"props":295,"children":296},{"style":86},[297],{"type":19,"value":298}," 'true'",{"type":13,"tag":73,"props":300,"children":301},{"style":137},[302],{"type":19,"value":256},{"type":13,"tag":73,"props":304,"children":306},{"class":75,"line":305},11,[307,312,316],{"type":13,"tag":73,"props":308,"children":309},{"style":137},[310],{"type":19,"value":311},"      generateDashboard: ",{"type":13,"tag":73,"props":313,"children":314},{"style":92},[315],{"type":19,"value":251},{"type":13,"tag":73,"props":317,"children":318},{"style":137},[319],{"type":19,"value":256},{"type":13,"tag":73,"props":321,"children":323},{"class":75,"line":322},12,[324],{"type":13,"tag":73,"props":325,"children":326},{"style":137},[327],{"type":19,"value":328},"    }),\n",{"type":13,"tag":73,"props":330,"children":332},{"class":75,"line":331},13,[333],{"type":13,"tag":73,"props":334,"children":335},{"style":137},[336],{"type":19,"value":337},"  ],\n",{"type":13,"tag":73,"props":339,"children":341},{"class":75,"line":340},14,[342],{"type":13,"tag":73,"props":343,"children":344},{"style":137},[345],{"type":19,"value":346},"});\n",{"type":13,"tag":348,"props":349,"children":350},"blockquote",{},[351],{"type":13,"tag":22,"props":352,"children":353},{},[354,356,363],{"type":19,"value":355},"Framework-specific examples (Nuxt, SvelteKit, SolidStart, Astro) live in ",{"type":13,"tag":357,"props":358,"children":360},"a",{"href":359},"./framework-recipes",[361],{"type":19,"value":362},"Framework Recipes",{"type":19,"value":364},".",{"type":13,"tag":366,"props":367,"children":369},"h3",{"id":368},"reference-implementation",[370],{"type":19,"value":371},"Reference implementation",{"type":13,"tag":22,"props":373,"children":374},{},[375,377,383],{"type":19,"value":376},"See ",{"type":13,"tag":28,"props":378,"children":380},{"className":379},[],[381],{"type":19,"value":382},"examples/vite-app",{"type":19,"value":384}," for a complete setup with source maps, dashboard generation, and CI-ready defaults:",{"type":13,"tag":63,"props":386,"children":388},{"code":387,"language":66,"meta":5,"className":67,"style":5},"pnpm --filter example-vite build\nopen examples/vite-app/bundle-report/index.html\n",[389],{"type":13,"tag":28,"props":390,"children":391},{"__ignoreMap":5},[392,414],{"type":13,"tag":73,"props":393,"children":394},{"class":75,"line":76},[395,399,404,409],{"type":13,"tag":73,"props":396,"children":397},{"style":80},[398],{"type":19,"value":83},{"type":13,"tag":73,"props":400,"children":401},{"style":92},[402],{"type":19,"value":403}," --filter",{"type":13,"tag":73,"props":405,"children":406},{"style":86},[407],{"type":19,"value":408}," example-vite",{"type":13,"tag":73,"props":410,"children":411},{"style":86},[412],{"type":19,"value":413}," build\n",{"type":13,"tag":73,"props":415,"children":416},{"class":75,"line":127},[417,422],{"type":13,"tag":73,"props":418,"children":419},{"style":80},[420],{"type":19,"value":421},"open",{"type":13,"tag":73,"props":423,"children":424},{"style":86},[425],{"type":19,"value":426}," examples/vite-app/bundle-report/index.html\n",{"type":13,"tag":366,"props":428,"children":430},{"id":429},"options-recap",[431],{"type":19,"value":432},"Options recap",{"type":13,"tag":434,"props":435,"children":436},"table",{},[437,461],{"type":13,"tag":438,"props":439,"children":440},"thead",{},[441],{"type":13,"tag":442,"props":443,"children":444},"tr",{},[445,451,456],{"type":13,"tag":446,"props":447,"children":448},"th",{},[449],{"type":19,"value":450},"Option",{"type":13,"tag":446,"props":452,"children":453},{},[454],{"type":19,"value":455},"Default",{"type":13,"tag":446,"props":457,"children":458},{},[459],{"type":19,"value":460},"Notes",{"type":13,"tag":462,"props":463,"children":464},"tbody",{},[465,498,531,565,598],{"type":13,"tag":442,"props":466,"children":467},{},[468,478,486],{"type":13,"tag":469,"props":470,"children":471},"td",{},[472],{"type":13,"tag":28,"props":473,"children":475},{"className":474},[],[476],{"type":19,"value":477},"enabled",{"type":13,"tag":469,"props":479,"children":480},{},[481],{"type":13,"tag":28,"props":482,"children":484},{"className":483},[],[485],{"type":19,"value":251},{"type":13,"tag":469,"props":487,"children":488},{},[489,491,497],{"type":19,"value":490},"Skip the plugin entirely if ",{"type":13,"tag":28,"props":492,"children":494},{"className":493},[],[495],{"type":19,"value":496},"false",{"type":19,"value":364},{"type":13,"tag":442,"props":499,"children":500},{},[501,510,519],{"type":13,"tag":469,"props":502,"children":503},{},[504],{"type":13,"tag":28,"props":505,"children":507},{"className":506},[],[508],{"type":19,"value":509},"compareAgainst",{"type":13,"tag":469,"props":511,"children":512},{},[513],{"type":13,"tag":28,"props":514,"children":516},{"className":515},[],[517],{"type":19,"value":518},"main",{"type":13,"tag":469,"props":520,"children":521},{},[522,524,530],{"type":19,"value":523},"Loads metrics from Git storage and runs ",{"type":13,"tag":28,"props":525,"children":527},{"className":526},[],[528],{"type":19,"value":529},"compareMetrics",{"type":19,"value":364},{"type":13,"tag":442,"props":532,"children":533},{},[534,543,552],{"type":13,"tag":469,"props":535,"children":536},{},[537],{"type":13,"tag":28,"props":538,"children":540},{"className":539},[],[541],{"type":19,"value":542},"saveToGit",{"type":13,"tag":469,"props":544,"children":545},{},[546],{"type":13,"tag":28,"props":547,"children":549},{"className":548},[],[550],{"type":19,"value":551},"CI ? true : false",{"type":13,"tag":469,"props":553,"children":554},{},[555,557,563],{"type":19,"value":556},"Persists metrics to ",{"type":13,"tag":28,"props":558,"children":560},{"className":559},[],[561],{"type":19,"value":562},"bundlewatch-data",{"type":19,"value":564}," branch.",{"type":13,"tag":442,"props":566,"children":567},{},[568,577,585],{"type":13,"tag":469,"props":569,"children":570},{},[571],{"type":13,"tag":28,"props":572,"children":574},{"className":573},[],[575],{"type":19,"value":576},"generateDashboard",{"type":13,"tag":469,"props":578,"children":579},{},[580],{"type":13,"tag":28,"props":581,"children":583},{"className":582},[],[584],{"type":19,"value":496},{"type":13,"tag":469,"props":586,"children":587},{},[588,590,596],{"type":19,"value":589},"Creates ",{"type":13,"tag":28,"props":591,"children":593},{"className":592},[],[594],{"type":19,"value":595},"bundle-report/index.html",{"type":19,"value":597}," with a treemap.",{"type":13,"tag":442,"props":599,"children":600},{},[601,610,618],{"type":13,"tag":469,"props":602,"children":603},{},[604],{"type":13,"tag":28,"props":605,"children":607},{"className":606},[],[608],{"type":19,"value":609},"failOnSizeIncrease",{"type":13,"tag":469,"props":611,"children":612},{},[613],{"type":13,"tag":28,"props":614,"children":616},{"className":615},[],[617],{"type":19,"value":496},{"type":13,"tag":469,"props":619,"children":620},{},[621,623,629,631,637],{"type":19,"value":622},"Throws if ",{"type":13,"tag":28,"props":624,"children":626},{"className":625},[],[627],{"type":19,"value":628},"totalSize",{"type":19,"value":630}," grows beyond ",{"type":13,"tag":28,"props":632,"children":634},{"className":633},[],[635],{"type":19,"value":636},"sizeIncreaseThreshold",{"type":19,"value":364},{"type":13,"tag":366,"props":639,"children":641},{"id":640},"output-directory",[642],{"type":19,"value":643},"Output directory",{"type":13,"tag":22,"props":645,"children":646},{},[647,649,655,657,663],{"type":19,"value":648},"BundleWatch resolves ",{"type":13,"tag":28,"props":650,"children":652},{"className":651},[],[653],{"type":19,"value":654},"config.build.outDir",{"type":19,"value":656}," and scans that directory after the build finishes. If you customise the output directory (e.g., ",{"type":13,"tag":28,"props":658,"children":660},{"className":659},[],[661],{"type":19,"value":662},"build: { outDir: 'app-dist' }",{"type":19,"value":664},") the plugin picks it up automatically.",{"type":13,"tag":366,"props":666,"children":668},{"id":667},"github-actions-tips",[669],{"type":19,"value":670},"GitHub Actions tips",{"type":13,"tag":63,"props":672,"children":674},{"code":673},"permissions:\n  contents: write\nsteps:\n  - uses: actions/checkout@v4\n    with:\n      fetch-depth: 0\n  - uses: actions/setup-node@v4\n    with:\n      node-version: 24\n  - uses: pnpm/action-setup@v2\n    with:\n      version: 9\n  - run: pnpm install\n  - run: pnpm build\n",[675],{"type":13,"tag":28,"props":676,"children":677},{"__ignoreMap":5},[678],{"type":19,"value":673},{"type":13,"tag":366,"props":680,"children":682},{"id":681},"parser-upgrade-status",[683],{"type":19,"value":684},"Parser upgrade status",{"type":13,"tag":22,"props":686,"children":687},{},[688,694,696,702,704,710,712,718,720,725,727,733],{"type":13,"tag":28,"props":689,"children":691},{"className":690},[],[692],{"type":19,"value":693},"packages/parsers/src/vite.ts",{"type":19,"value":695}," already implements ",{"type":13,"tag":28,"props":697,"children":699},{"className":698},[],[700],{"type":19,"value":701},"createAnalyzerState",{"type":19,"value":703},", ",{"type":13,"tag":28,"props":705,"children":707},{"className":706},[],[708],{"type":19,"value":709},"collectModuleInfo",{"type":19,"value":711},", and ",{"type":13,"tag":28,"props":713,"children":715},{"className":714},[],[716],{"type":19,"value":717},"analyzeBundle",{"type":19,"value":719},". Once the plugin swaps ",{"type":13,"tag":28,"props":721,"children":723},{"className":722},[],[724],{"type":19,"value":52},{"type":19,"value":726}," for ",{"type":13,"tag":28,"props":728,"children":730},{"className":729},[],[731],{"type":19,"value":732},"generateBundle",{"type":19,"value":734}," it will:",{"type":13,"tag":736,"props":737,"children":738},"ol",{},[739,753,773],{"type":13,"tag":740,"props":741,"children":742},"li",{},[743,745,751],{"type":19,"value":744},"Capture module info via Vite’s ",{"type":13,"tag":28,"props":746,"children":748},{"className":747},[],[749],{"type":19,"value":750},"moduleParsed",{"type":19,"value":752}," hook.",{"type":13,"tag":740,"props":754,"children":755},{},[756,758,763,765,771],{"type":19,"value":757},"Call ",{"type":13,"tag":28,"props":759,"children":761},{"className":760},[],[762],{"type":19,"value":717},{"type":19,"value":764}," with the ",{"type":13,"tag":28,"props":766,"children":768},{"className":767},[],[769],{"type":19,"value":770},"OutputBundle",{"type":19,"value":772}," object.",{"type":13,"tag":740,"props":774,"children":775},{},[776],{"type":19,"value":777},"Gain module-level metrics, dependency graphs, and source-file stats—unlocking the enhanced dashboard.",{"type":13,"tag":22,"props":779,"children":780},{},[781,783,789],{"type":19,"value":782},"Track progress in the repository’s issue tracker (",{"type":13,"tag":28,"props":784,"children":786},{"className":785},[],[787],{"type":19,"value":788},"vite-parser-migration",{"type":19,"value":790},").",{"type":13,"tag":792,"props":793,"children":794},"style",{},[795],{"type":19,"value":796},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":127,"depth":127,"links":798},[799,800],{"id":58,"depth":127,"text":61},{"id":103,"depth":127,"text":106,"children":801},[802,803,804,805,806],{"id":368,"depth":158,"text":371},{"id":429,"depth":158,"text":432},{"id":640,"depth":158,"text":643},{"id":667,"depth":158,"text":670},{"id":681,"depth":158,"text":684},"markdown","content:vite.md","content","vite.md","vite","md",1762641363227]