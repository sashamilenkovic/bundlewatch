<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Deployment</title><style>.not-found[data-v-c6560ae6]{background:#0f172a99;border:1px dashed rgba(226,232,240,.4);border-radius:.75rem;padding:2rem}</style><style>pre code .line{display:block;min-height:1rem}</style><link rel="stylesheet" href="/_nuxt/entry.C1ivNxpE.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/deployment/_payload.json?e4fe02ea-6bc8-45d4-bc4d-975b2487ed8f"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CDLzvtxH.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BqALjSSV.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dv5406Vi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DcY57FRn.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BpTGhJSW.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DX9iewSJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CK0MDvVG.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/tAM4eT7l.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B8IaAclc.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SWVst1k5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BGtqbFQp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/wiF3njQF.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/9E__YZjA.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DxvdtyDP.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DEiAiKCt.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CVYcWZt5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bm_GOT8r.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-6gmq5J.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BCJHP5wR.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/e4fe02ea-6bc8-45d4-bc4d-975b2487ed8f.json"><meta name="description" content="Ship the docs to Cloudflare Workers (Pages has been sunset)."><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta property="og:title" content="Deployment"><meta property="og:description" content="Ship the docs to Cloudflare Workers (Pages has been sunset)."><script type="module" src="/_nuxt/CDLzvtxH.js" crossorigin></script></head><body><div id="__nuxt"><div class="prose" data-v-c6560ae6><!--[--><div><h1 id="️-deployment-cloudflare-workers"><!--[-->☁️ Deployment (Cloudflare Workers)<!--]--></h1><p><!--[-->Cloudflare Pages is deprecated (Nov 2025), so we deploy the statically generated docs via a Worker.<!--]--></p><h2 id="_1-generate-the-site"><a href="#_1-generate-the-site"><!--[-->1. Generate the site<!--]--></a></h2><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">pnpm</span><span style="--shiki-default:#79B8FF"> --filter</span><span style="--shiki-default:#9ECBFF"> @bundlewatch/docs</span><span style="--shiki-default:#9ECBFF"> generate
</span></span></code><!--]--></pre><!--]--><p><!--[-->Output lives in <code class=""><!--[-->docs/.output/public<!--]--></code>.<!--]--></p><h2 id="_2-deploy-worker-assets"><a href="#_2-deploy-worker-assets"><!--[-->2. Deploy Worker + Assets<!--]--></a></h2><p><!--[-->Cloudflare Workers now handle static assets directly—no R2 bucket required. The repository already includes a Worker project under <code class=""><!--[-->docs/worker/<!--]--></code>:<!--]--></p><ul><!--[--><li><!--[--><code class=""><!--[-->docs/worker/src/index.ts<!--]--></code> – Worker entry point (TypeScript).<!--]--></li><li><!--[--><code class=""><!--[-->docs/worker/wrangler.toml<!--]--></code> – Wrangler configuration/bucket binding.<!--]--></li><!--]--></ul><p><!--[-->The handler uses the new Assets binding to serve files and fall back to <code class=""><!--[-->index.html<!--]--></code> for SPA routes:<!--]--></p><!--[--><pre class="language-ts shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">  async</span><span style="--shiki-default:#B392F0"> fetch</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">request</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#FFAB70">env</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> url</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#B392F0"> URL</span><span style="--shiki-default:#E1E4E8">(request.url);
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> keys</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#B392F0"> buildCandidateKeys</span><span style="--shiki-default:#E1E4E8">(url.pathname, </span><span style="--shiki-default:#9ECBFF">&#39;index.html&#39;</span><span style="--shiki-default:#E1E4E8">);
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#F97583">    for</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> key</span><span style="--shiki-default:#F97583"> of</span><span style="--shiki-default:#E1E4E8"> keys) {
</span></span><span class="line" line="7"><span style="--shiki-default:#F97583">      const</span><span style="--shiki-default:#79B8FF"> object</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> env.</span><span style="--shiki-default:#79B8FF">BUNDLEWATCH_DOCS</span><span style="--shiki-default:#E1E4E8">.</span><span style="--shiki-default:#B392F0">get</span><span style="--shiki-default:#E1E4E8">(key);
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">      if</span><span style="--shiki-default:#E1E4E8"> (object) {
</span></span><span class="line" line="9"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> headers</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#B392F0"> Headers</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">        object.</span><span style="--shiki-default:#B392F0">writeHttpMetadata</span><span style="--shiki-default:#E1E4E8">(headers);
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">        headers.</span><span style="--shiki-default:#B392F0">set</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;etag&#39;</span><span style="--shiki-default:#E1E4E8">, object.httpEtag);
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">        headers.</span><span style="--shiki-default:#B392F0">set</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;cache-control&#39;</span><span style="--shiki-default:#E1E4E8">, key.</span><span style="--shiki-default:#B392F0">endsWith</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;.html&#39;</span><span style="--shiki-default:#E1E4E8">)
</span></span><span class="line" line="13"><span style="--shiki-default:#F97583">          ?</span><span style="--shiki-default:#9ECBFF"> &#39;public, max-age=300, must-revalidate&#39;
</span></span><span class="line" line="14"><span style="--shiki-default:#F97583">          :</span><span style="--shiki-default:#9ECBFF"> &#39;public, max-age=31536000, immutable&#39;</span><span style="--shiki-default:#E1E4E8">);
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-default:#F97583">        return</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#B392F0"> Response</span><span style="--shiki-default:#E1E4E8">(request.method </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#9ECBFF"> &#39;HEAD&#39;</span><span style="--shiki-default:#F97583"> ?</span><span style="--shiki-default:#79B8FF"> null</span><span style="--shiki-default:#F97583"> :</span><span style="--shiki-default:#E1E4E8"> object.body, { headers });
</span></span><span class="line" line="17"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="18"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#B392F0"> Response</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;Not found&#39;</span><span style="--shiki-default:#E1E4E8">, { status: </span><span style="--shiki-default:#79B8FF">404</span><span style="--shiki-default:#E1E4E8"> });
</span></span><span class="line" line="21"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="22"><span style="--shiki-default:#E1E4E8">};
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->docs/worker/wrangler.toml<!--]--></code> binds the generated assets folder:<!--]--></p><!--[--><pre class="language-toml shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span>name = &quot;bundlewatch-docs&quot;
</span></span><span class="line" line="2"><span>main = &quot;src/index.ts&quot;
</span></span><span class="line" line="3"><span>compatibility_date = &quot;2024-11-25&quot;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span>[assets]
</span></span><span class="line" line="6"><span>directory = &quot;../.output/public&quot;
</span></span><span class="line" line="7"><span>binding = &quot;ASSETS&quot;
</span></span></code><!--]--></pre><!--]--><h2 id="_3-deploy"><a href="#_3-deploy"><!--[-->3. Deploy<!--]--></a></h2><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#79B8FF">cd</span><span style="--shiki-default:#9ECBFF"> docs/worker
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">wrangler</span><span style="--shiki-default:#9ECBFF"> deploy
</span></span></code><!--]--></pre><!--]--><p><!--[-->Set up a custom domain via Cloudflare Workers routes.<!--]--></p><h2 id="_4-automate-via-github-actions"><a href="#_4-automate-via-github-actions"><!--[-->4. Automate via GitHub Actions<!--]--></a></h2><p><!--[-->The repo includes <code class=""><!--[-->.github/workflows/docs.yml<!--]--></code>, which:<!--]--></p><ol><!--[--><li><!--[-->Checks out <code class=""><!--[-->main<!--]--></code>.<!--]--></li><li><!--[-->Installs dependencies with pnpm.<!--]--></li><li><!--[-->Runs <code class=""><!--[-->pnpm docs:generate<!--]--></code>.<!--]--></li><li><!--[-->Calls <code class=""><!--[-->wrangler deploy<!--]--></code> from <code class=""><!--[-->docs/worker<!--]--></code>.<!--]--></li><!--]--></ol><p><!--[-->Provide two repository secrets so the job can authenticate with Cloudflare:<!--]--></p><ul><!--[--><li><!--[--><code class=""><!--[-->CF_API_TOKEN<!--]--></code> – token with “Workers Scripts:Edit” + “Workers KV Storage:Edit” (assets) permissions.<!--]--></li><li><!--[--><code class=""><!--[-->CF_ACCOUNT_ID<!--]--></code> – your account identifier.<!--]--></li><!--]--></ul><p><!--[-->Trigger the workflow manually (<code class=""><!--[-->workflow_dispatch<!--]--></code>) or on every push to <code class=""><!--[-->main<!--]--></code>.<!--]--></p><h2 id="alternative-vercel"><a href="#alternative-vercel"><!--[-->Alternative: Vercel<!--]--></a></h2><p><!--[-->If you prefer Vercel, keep <code class=""><!--[-->pnpm docs:generate<!--]--></code> and upload <code class=""><!--[-->.output/public<!--]--></code>. Vercel Edge Functions can also serve the static assets, but Cloudflare Workers keeps everything in one ecosystem.<!--]--></p><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/deployment/_payload.json?e4fe02ea-6bc8-45d4-bc4d-975b2487ed8f">[{"state":1,"once":1037,"_errors":1038,"serverRendered":295,"path":7,"prerenderedAt":1040},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":981,"$sdd-globals":999,"$sdd-navigation":1001},["ShallowRef",4],["ShallowReactive",5],{"/deployment":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":8,"title":10,"description":11,"body":12,"_type":974,"_id":975,"_source":976,"_file":977,"_stem":978,"_extension":979,"layout":980},"/deployment","",false,"Deployment","Ship the docs to Cloudflare Workers (Pages has been sunset).",{"type":13,"children":14,"toc":967},"root",[15,24,30,37,77,90,96,109,136,149,696,706,770,776,809,814,820,833,886,891,916,935,941,961],{"type":16,"tag":17,"props":18,"children":20},"element","h1",{"id":19},"️-deployment-cloudflare-workers",[21],{"type":22,"value":23},"text","☁️ Deployment (Cloudflare Workers)",{"type":16,"tag":25,"props":26,"children":27},"p",{},[28],{"type":22,"value":29},"Cloudflare Pages is deprecated (Nov 2025), so we deploy the statically generated docs via a Worker.",{"type":16,"tag":31,"props":32,"children":34},"h2",{"id":33},"_1-generate-the-site",[35],{"type":22,"value":36},"1. Generate the site",{"type":16,"tag":38,"props":39,"children":43},"pre",{"className":40,"code":41,"language":42,"meta":8,"style":8},"language-bash shiki shiki-themes github-dark","pnpm --filter @bundlewatch/docs generate\n","bash",[44],{"type":16,"tag":45,"props":46,"children":47},"code",{"__ignoreMap":8},[48],{"type":16,"tag":49,"props":50,"children":53},"span",{"class":51,"line":52},"line",1,[54,60,66,72],{"type":16,"tag":49,"props":55,"children":57},{"style":56},"--shiki-default:#B392F0",[58],{"type":22,"value":59},"pnpm",{"type":16,"tag":49,"props":61,"children":63},{"style":62},"--shiki-default:#79B8FF",[64],{"type":22,"value":65}," --filter",{"type":16,"tag":49,"props":67,"children":69},{"style":68},"--shiki-default:#9ECBFF",[70],{"type":22,"value":71}," @bundlewatch/docs",{"type":16,"tag":49,"props":73,"children":74},{"style":68},[75],{"type":22,"value":76}," generate\n",{"type":16,"tag":25,"props":78,"children":79},{},[80,82,88],{"type":22,"value":81},"Output lives in ",{"type":16,"tag":45,"props":83,"children":85},{"className":84},[],[86],{"type":22,"value":87},"docs/.output/public",{"type":22,"value":89},".",{"type":16,"tag":31,"props":91,"children":93},{"id":92},"_2-deploy-worker-assets",[94],{"type":22,"value":95},"2. Deploy Worker + Assets",{"type":16,"tag":25,"props":97,"children":98},{},[99,101,107],{"type":22,"value":100},"Cloudflare Workers now handle static assets directly—no R2 bucket required. The repository already includes a Worker project under ",{"type":16,"tag":45,"props":102,"children":104},{"className":103},[],[105],{"type":22,"value":106},"docs/worker/",{"type":22,"value":108},":",{"type":16,"tag":110,"props":111,"children":112},"ul",{},[113,125],{"type":16,"tag":114,"props":115,"children":116},"li",{},[117,123],{"type":16,"tag":45,"props":118,"children":120},{"className":119},[],[121],{"type":22,"value":122},"docs/worker/src/index.ts",{"type":22,"value":124}," – Worker entry point (TypeScript).",{"type":16,"tag":114,"props":126,"children":127},{},[128,134],{"type":16,"tag":45,"props":129,"children":131},{"className":130},[],[132],{"type":22,"value":133},"docs/worker/wrangler.toml",{"type":22,"value":135}," – Wrangler configuration/bucket binding.",{"type":16,"tag":25,"props":137,"children":138},{},[139,141,147],{"type":22,"value":140},"The handler uses the new Assets binding to serve files and fall back to ",{"type":16,"tag":45,"props":142,"children":144},{"className":143},[],[145],{"type":22,"value":146},"index.html",{"type":22,"value":148}," for SPA routes:",{"type":16,"tag":38,"props":150,"children":154},{"className":151,"code":152,"language":153,"meta":8,"style":8},"language-ts shiki shiki-themes github-dark","export default {\n  async fetch(request, env) {\n    const url = new URL(request.url);\n    const keys = buildCandidateKeys(url.pathname, 'index.html');\n\n    for (const key of keys) {\n      const object = await env.BUNDLEWATCH_DOCS.get(key);\n      if (object) {\n        const headers = new Headers();\n        object.writeHttpMetadata(headers);\n        headers.set('etag', object.httpEtag);\n        headers.set('cache-control', key.endsWith('.html')\n          ? 'public, max-age=300, must-revalidate'\n          : 'public, max-age=31536000, immutable');\n\n        return new Response(request.method === 'HEAD' ? null : object.body, { headers });\n      }\n    }\n\n    return new Response('Not found', { status: 404 });\n  },\n};\n","ts",[155],{"type":16,"tag":45,"props":156,"children":157},{"__ignoreMap":8},[158,178,218,252,289,299,333,380,394,426,445,473,518,532,550,558,611,620,629,637,678,687],{"type":16,"tag":49,"props":159,"children":160},{"class":51,"line":52},[161,167,172],{"type":16,"tag":49,"props":162,"children":164},{"style":163},"--shiki-default:#F97583",[165],{"type":22,"value":166},"export",{"type":16,"tag":49,"props":168,"children":169},{"style":163},[170],{"type":22,"value":171}," default",{"type":16,"tag":49,"props":173,"children":175},{"style":174},"--shiki-default:#E1E4E8",[176],{"type":22,"value":177}," {\n",{"type":16,"tag":49,"props":179,"children":181},{"class":51,"line":180},2,[182,187,192,197,203,208,213],{"type":16,"tag":49,"props":183,"children":184},{"style":163},[185],{"type":22,"value":186},"  async",{"type":16,"tag":49,"props":188,"children":189},{"style":56},[190],{"type":22,"value":191}," fetch",{"type":16,"tag":49,"props":193,"children":194},{"style":174},[195],{"type":22,"value":196},"(",{"type":16,"tag":49,"props":198,"children":200},{"style":199},"--shiki-default:#FFAB70",[201],{"type":22,"value":202},"request",{"type":16,"tag":49,"props":204,"children":205},{"style":174},[206],{"type":22,"value":207},", ",{"type":16,"tag":49,"props":209,"children":210},{"style":199},[211],{"type":22,"value":212},"env",{"type":16,"tag":49,"props":214,"children":215},{"style":174},[216],{"type":22,"value":217},") {\n",{"type":16,"tag":49,"props":219,"children":221},{"class":51,"line":220},3,[222,227,232,237,242,247],{"type":16,"tag":49,"props":223,"children":224},{"style":163},[225],{"type":22,"value":226},"    const",{"type":16,"tag":49,"props":228,"children":229},{"style":62},[230],{"type":22,"value":231}," url",{"type":16,"tag":49,"props":233,"children":234},{"style":163},[235],{"type":22,"value":236}," =",{"type":16,"tag":49,"props":238,"children":239},{"style":163},[240],{"type":22,"value":241}," new",{"type":16,"tag":49,"props":243,"children":244},{"style":56},[245],{"type":22,"value":246}," URL",{"type":16,"tag":49,"props":248,"children":249},{"style":174},[250],{"type":22,"value":251},"(request.url);\n",{"type":16,"tag":49,"props":253,"children":255},{"class":51,"line":254},4,[256,260,265,269,274,279,284],{"type":16,"tag":49,"props":257,"children":258},{"style":163},[259],{"type":22,"value":226},{"type":16,"tag":49,"props":261,"children":262},{"style":62},[263],{"type":22,"value":264}," keys",{"type":16,"tag":49,"props":266,"children":267},{"style":163},[268],{"type":22,"value":236},{"type":16,"tag":49,"props":270,"children":271},{"style":56},[272],{"type":22,"value":273}," buildCandidateKeys",{"type":16,"tag":49,"props":275,"children":276},{"style":174},[277],{"type":22,"value":278},"(url.pathname, ",{"type":16,"tag":49,"props":280,"children":281},{"style":68},[282],{"type":22,"value":283},"'index.html'",{"type":16,"tag":49,"props":285,"children":286},{"style":174},[287],{"type":22,"value":288},");\n",{"type":16,"tag":49,"props":290,"children":292},{"class":51,"line":291},5,[293],{"type":16,"tag":49,"props":294,"children":296},{"emptyLinePlaceholder":295},true,[297],{"type":22,"value":298},"\n",{"type":16,"tag":49,"props":300,"children":302},{"class":51,"line":301},6,[303,308,313,318,323,328],{"type":16,"tag":49,"props":304,"children":305},{"style":163},[306],{"type":22,"value":307},"    for",{"type":16,"tag":49,"props":309,"children":310},{"style":174},[311],{"type":22,"value":312}," (",{"type":16,"tag":49,"props":314,"children":315},{"style":163},[316],{"type":22,"value":317},"const",{"type":16,"tag":49,"props":319,"children":320},{"style":62},[321],{"type":22,"value":322}," key",{"type":16,"tag":49,"props":324,"children":325},{"style":163},[326],{"type":22,"value":327}," of",{"type":16,"tag":49,"props":329,"children":330},{"style":174},[331],{"type":22,"value":332}," keys) {\n",{"type":16,"tag":49,"props":334,"children":336},{"class":51,"line":335},7,[337,342,347,351,356,361,366,370,375],{"type":16,"tag":49,"props":338,"children":339},{"style":163},[340],{"type":22,"value":341},"      const",{"type":16,"tag":49,"props":343,"children":344},{"style":62},[345],{"type":22,"value":346}," object",{"type":16,"tag":49,"props":348,"children":349},{"style":163},[350],{"type":22,"value":236},{"type":16,"tag":49,"props":352,"children":353},{"style":163},[354],{"type":22,"value":355}," await",{"type":16,"tag":49,"props":357,"children":358},{"style":174},[359],{"type":22,"value":360}," env.",{"type":16,"tag":49,"props":362,"children":363},{"style":62},[364],{"type":22,"value":365},"BUNDLEWATCH_DOCS",{"type":16,"tag":49,"props":367,"children":368},{"style":174},[369],{"type":22,"value":89},{"type":16,"tag":49,"props":371,"children":372},{"style":56},[373],{"type":22,"value":374},"get",{"type":16,"tag":49,"props":376,"children":377},{"style":174},[378],{"type":22,"value":379},"(key);\n",{"type":16,"tag":49,"props":381,"children":383},{"class":51,"line":382},8,[384,389],{"type":16,"tag":49,"props":385,"children":386},{"style":163},[387],{"type":22,"value":388},"      if",{"type":16,"tag":49,"props":390,"children":391},{"style":174},[392],{"type":22,"value":393}," (object) {\n",{"type":16,"tag":49,"props":395,"children":397},{"class":51,"line":396},9,[398,403,408,412,416,421],{"type":16,"tag":49,"props":399,"children":400},{"style":163},[401],{"type":22,"value":402},"        const",{"type":16,"tag":49,"props":404,"children":405},{"style":62},[406],{"type":22,"value":407}," headers",{"type":16,"tag":49,"props":409,"children":410},{"style":163},[411],{"type":22,"value":236},{"type":16,"tag":49,"props":413,"children":414},{"style":163},[415],{"type":22,"value":241},{"type":16,"tag":49,"props":417,"children":418},{"style":56},[419],{"type":22,"value":420}," Headers",{"type":16,"tag":49,"props":422,"children":423},{"style":174},[424],{"type":22,"value":425},"();\n",{"type":16,"tag":49,"props":427,"children":429},{"class":51,"line":428},10,[430,435,440],{"type":16,"tag":49,"props":431,"children":432},{"style":174},[433],{"type":22,"value":434},"        object.",{"type":16,"tag":49,"props":436,"children":437},{"style":56},[438],{"type":22,"value":439},"writeHttpMetadata",{"type":16,"tag":49,"props":441,"children":442},{"style":174},[443],{"type":22,"value":444},"(headers);\n",{"type":16,"tag":49,"props":446,"children":448},{"class":51,"line":447},11,[449,454,459,463,468],{"type":16,"tag":49,"props":450,"children":451},{"style":174},[452],{"type":22,"value":453},"        headers.",{"type":16,"tag":49,"props":455,"children":456},{"style":56},[457],{"type":22,"value":458},"set",{"type":16,"tag":49,"props":460,"children":461},{"style":174},[462],{"type":22,"value":196},{"type":16,"tag":49,"props":464,"children":465},{"style":68},[466],{"type":22,"value":467},"'etag'",{"type":16,"tag":49,"props":469,"children":470},{"style":174},[471],{"type":22,"value":472},", object.httpEtag);\n",{"type":16,"tag":49,"props":474,"children":476},{"class":51,"line":475},12,[477,481,485,489,494,499,504,508,513],{"type":16,"tag":49,"props":478,"children":479},{"style":174},[480],{"type":22,"value":453},{"type":16,"tag":49,"props":482,"children":483},{"style":56},[484],{"type":22,"value":458},{"type":16,"tag":49,"props":486,"children":487},{"style":174},[488],{"type":22,"value":196},{"type":16,"tag":49,"props":490,"children":491},{"style":68},[492],{"type":22,"value":493},"'cache-control'",{"type":16,"tag":49,"props":495,"children":496},{"style":174},[497],{"type":22,"value":498},", key.",{"type":16,"tag":49,"props":500,"children":501},{"style":56},[502],{"type":22,"value":503},"endsWith",{"type":16,"tag":49,"props":505,"children":506},{"style":174},[507],{"type":22,"value":196},{"type":16,"tag":49,"props":509,"children":510},{"style":68},[511],{"type":22,"value":512},"'.html'",{"type":16,"tag":49,"props":514,"children":515},{"style":174},[516],{"type":22,"value":517},")\n",{"type":16,"tag":49,"props":519,"children":521},{"class":51,"line":520},13,[522,527],{"type":16,"tag":49,"props":523,"children":524},{"style":163},[525],{"type":22,"value":526},"          ?",{"type":16,"tag":49,"props":528,"children":529},{"style":68},[530],{"type":22,"value":531}," 'public, max-age=300, must-revalidate'\n",{"type":16,"tag":49,"props":533,"children":535},{"class":51,"line":534},14,[536,541,546],{"type":16,"tag":49,"props":537,"children":538},{"style":163},[539],{"type":22,"value":540},"          :",{"type":16,"tag":49,"props":542,"children":543},{"style":68},[544],{"type":22,"value":545}," 'public, max-age=31536000, immutable'",{"type":16,"tag":49,"props":547,"children":548},{"style":174},[549],{"type":22,"value":288},{"type":16,"tag":49,"props":551,"children":553},{"class":51,"line":552},15,[554],{"type":16,"tag":49,"props":555,"children":556},{"emptyLinePlaceholder":295},[557],{"type":22,"value":298},{"type":16,"tag":49,"props":559,"children":561},{"class":51,"line":560},16,[562,567,571,576,581,586,591,596,601,606],{"type":16,"tag":49,"props":563,"children":564},{"style":163},[565],{"type":22,"value":566},"        return",{"type":16,"tag":49,"props":568,"children":569},{"style":163},[570],{"type":22,"value":241},{"type":16,"tag":49,"props":572,"children":573},{"style":56},[574],{"type":22,"value":575}," Response",{"type":16,"tag":49,"props":577,"children":578},{"style":174},[579],{"type":22,"value":580},"(request.method ",{"type":16,"tag":49,"props":582,"children":583},{"style":163},[584],{"type":22,"value":585},"===",{"type":16,"tag":49,"props":587,"children":588},{"style":68},[589],{"type":22,"value":590}," 'HEAD'",{"type":16,"tag":49,"props":592,"children":593},{"style":163},[594],{"type":22,"value":595}," ?",{"type":16,"tag":49,"props":597,"children":598},{"style":62},[599],{"type":22,"value":600}," null",{"type":16,"tag":49,"props":602,"children":603},{"style":163},[604],{"type":22,"value":605}," :",{"type":16,"tag":49,"props":607,"children":608},{"style":174},[609],{"type":22,"value":610}," object.body, { headers });\n",{"type":16,"tag":49,"props":612,"children":614},{"class":51,"line":613},17,[615],{"type":16,"tag":49,"props":616,"children":617},{"style":174},[618],{"type":22,"value":619},"      }\n",{"type":16,"tag":49,"props":621,"children":623},{"class":51,"line":622},18,[624],{"type":16,"tag":49,"props":625,"children":626},{"style":174},[627],{"type":22,"value":628},"    }\n",{"type":16,"tag":49,"props":630,"children":632},{"class":51,"line":631},19,[633],{"type":16,"tag":49,"props":634,"children":635},{"emptyLinePlaceholder":295},[636],{"type":22,"value":298},{"type":16,"tag":49,"props":638,"children":640},{"class":51,"line":639},20,[641,646,650,654,658,663,668,673],{"type":16,"tag":49,"props":642,"children":643},{"style":163},[644],{"type":22,"value":645},"    return",{"type":16,"tag":49,"props":647,"children":648},{"style":163},[649],{"type":22,"value":241},{"type":16,"tag":49,"props":651,"children":652},{"style":56},[653],{"type":22,"value":575},{"type":16,"tag":49,"props":655,"children":656},{"style":174},[657],{"type":22,"value":196},{"type":16,"tag":49,"props":659,"children":660},{"style":68},[661],{"type":22,"value":662},"'Not found'",{"type":16,"tag":49,"props":664,"children":665},{"style":174},[666],{"type":22,"value":667},", { status: ",{"type":16,"tag":49,"props":669,"children":670},{"style":62},[671],{"type":22,"value":672},"404",{"type":16,"tag":49,"props":674,"children":675},{"style":174},[676],{"type":22,"value":677}," });\n",{"type":16,"tag":49,"props":679,"children":681},{"class":51,"line":680},21,[682],{"type":16,"tag":49,"props":683,"children":684},{"style":174},[685],{"type":22,"value":686},"  },\n",{"type":16,"tag":49,"props":688,"children":690},{"class":51,"line":689},22,[691],{"type":16,"tag":49,"props":692,"children":693},{"style":174},[694],{"type":22,"value":695},"};\n",{"type":16,"tag":25,"props":697,"children":698},{},[699,704],{"type":16,"tag":45,"props":700,"children":702},{"className":701},[],[703],{"type":22,"value":133},{"type":22,"value":705}," binds the generated assets folder:",{"type":16,"tag":38,"props":707,"children":711},{"className":708,"code":709,"language":710,"meta":8,"style":8},"language-toml shiki shiki-themes github-dark","name = \"bundlewatch-docs\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-11-25\"\n\n[assets]\ndirectory = \"../.output/public\"\nbinding = \"ASSETS\"\n","toml",[712],{"type":16,"tag":45,"props":713,"children":714},{"__ignoreMap":8},[715,723,731,739,746,754,762],{"type":16,"tag":49,"props":716,"children":717},{"class":51,"line":52},[718],{"type":16,"tag":49,"props":719,"children":720},{},[721],{"type":22,"value":722},"name = \"bundlewatch-docs\"\n",{"type":16,"tag":49,"props":724,"children":725},{"class":51,"line":180},[726],{"type":16,"tag":49,"props":727,"children":728},{},[729],{"type":22,"value":730},"main = \"src/index.ts\"\n",{"type":16,"tag":49,"props":732,"children":733},{"class":51,"line":220},[734],{"type":16,"tag":49,"props":735,"children":736},{},[737],{"type":22,"value":738},"compatibility_date = \"2024-11-25\"\n",{"type":16,"tag":49,"props":740,"children":741},{"class":51,"line":254},[742],{"type":16,"tag":49,"props":743,"children":744},{"emptyLinePlaceholder":295},[745],{"type":22,"value":298},{"type":16,"tag":49,"props":747,"children":748},{"class":51,"line":291},[749],{"type":16,"tag":49,"props":750,"children":751},{},[752],{"type":22,"value":753},"[assets]\n",{"type":16,"tag":49,"props":755,"children":756},{"class":51,"line":301},[757],{"type":16,"tag":49,"props":758,"children":759},{},[760],{"type":22,"value":761},"directory = \"../.output/public\"\n",{"type":16,"tag":49,"props":763,"children":764},{"class":51,"line":335},[765],{"type":16,"tag":49,"props":766,"children":767},{},[768],{"type":22,"value":769},"binding = \"ASSETS\"\n",{"type":16,"tag":31,"props":771,"children":773},{"id":772},"_3-deploy",[774],{"type":22,"value":775},"3. Deploy",{"type":16,"tag":38,"props":777,"children":779},{"className":40,"code":778,"language":42,"meta":8,"style":8},"cd docs/worker\nwrangler deploy\n",[780],{"type":16,"tag":45,"props":781,"children":782},{"__ignoreMap":8},[783,796],{"type":16,"tag":49,"props":784,"children":785},{"class":51,"line":52},[786,791],{"type":16,"tag":49,"props":787,"children":788},{"style":62},[789],{"type":22,"value":790},"cd",{"type":16,"tag":49,"props":792,"children":793},{"style":68},[794],{"type":22,"value":795}," docs/worker\n",{"type":16,"tag":49,"props":797,"children":798},{"class":51,"line":180},[799,804],{"type":16,"tag":49,"props":800,"children":801},{"style":56},[802],{"type":22,"value":803},"wrangler",{"type":16,"tag":49,"props":805,"children":806},{"style":68},[807],{"type":22,"value":808}," deploy\n",{"type":16,"tag":25,"props":810,"children":811},{},[812],{"type":22,"value":813},"Set up a custom domain via Cloudflare Workers routes.",{"type":16,"tag":31,"props":815,"children":817},{"id":816},"_4-automate-via-github-actions",[818],{"type":22,"value":819},"4. Automate via GitHub Actions",{"type":16,"tag":25,"props":821,"children":822},{},[823,825,831],{"type":22,"value":824},"The repo includes ",{"type":16,"tag":45,"props":826,"children":828},{"className":827},[],[829],{"type":22,"value":830},".github/workflows/docs.yml",{"type":22,"value":832},", which:",{"type":16,"tag":834,"props":835,"children":836},"ol",{},[837,849,854,866],{"type":16,"tag":114,"props":838,"children":839},{},[840,842,848],{"type":22,"value":841},"Checks out ",{"type":16,"tag":45,"props":843,"children":845},{"className":844},[],[846],{"type":22,"value":847},"main",{"type":22,"value":89},{"type":16,"tag":114,"props":850,"children":851},{},[852],{"type":22,"value":853},"Installs dependencies with pnpm.",{"type":16,"tag":114,"props":855,"children":856},{},[857,859,865],{"type":22,"value":858},"Runs ",{"type":16,"tag":45,"props":860,"children":862},{"className":861},[],[863],{"type":22,"value":864},"pnpm docs:generate",{"type":22,"value":89},{"type":16,"tag":114,"props":867,"children":868},{},[869,871,877,879,885],{"type":22,"value":870},"Calls ",{"type":16,"tag":45,"props":872,"children":874},{"className":873},[],[875],{"type":22,"value":876},"wrangler deploy",{"type":22,"value":878}," from ",{"type":16,"tag":45,"props":880,"children":882},{"className":881},[],[883],{"type":22,"value":884},"docs/worker",{"type":22,"value":89},{"type":16,"tag":25,"props":887,"children":888},{},[889],{"type":22,"value":890},"Provide two repository secrets so the job can authenticate with Cloudflare:",{"type":16,"tag":110,"props":892,"children":893},{},[894,905],{"type":16,"tag":114,"props":895,"children":896},{},[897,903],{"type":16,"tag":45,"props":898,"children":900},{"className":899},[],[901],{"type":22,"value":902},"CF_API_TOKEN",{"type":22,"value":904}," – token with “Workers Scripts:Edit” + “Workers KV Storage:Edit” (assets) permissions.",{"type":16,"tag":114,"props":906,"children":907},{},[908,914],{"type":16,"tag":45,"props":909,"children":911},{"className":910},[],[912],{"type":22,"value":913},"CF_ACCOUNT_ID",{"type":22,"value":915}," – your account identifier.",{"type":16,"tag":25,"props":917,"children":918},{},[919,921,927,929,934],{"type":22,"value":920},"Trigger the workflow manually (",{"type":16,"tag":45,"props":922,"children":924},{"className":923},[],[925],{"type":22,"value":926},"workflow_dispatch",{"type":22,"value":928},") or on every push to ",{"type":16,"tag":45,"props":930,"children":932},{"className":931},[],[933],{"type":22,"value":847},{"type":22,"value":89},{"type":16,"tag":31,"props":936,"children":938},{"id":937},"alternative-vercel",[939],{"type":22,"value":940},"Alternative: Vercel",{"type":16,"tag":25,"props":942,"children":943},{},[944,946,951,953,959],{"type":22,"value":945},"If you prefer Vercel, keep ",{"type":16,"tag":45,"props":947,"children":949},{"className":948},[],[950],{"type":22,"value":864},{"type":22,"value":952}," and upload ",{"type":16,"tag":45,"props":954,"children":956},{"className":955},[],[957],{"type":22,"value":958},".output/public",{"type":22,"value":960},". Vercel Edge Functions can also serve the static assets, but Cloudflare Workers keeps everything in one ecosystem.",{"type":16,"tag":962,"props":963,"children":964},"style",{},[965],{"type":22,"value":966},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":8,"searchDepth":180,"depth":180,"links":968},[969,970,971,972,973],{"id":33,"depth":180,"text":36},{"id":92,"depth":180,"text":95},{"id":772,"depth":180,"text":775},{"id":816,"depth":180,"text":819},{"id":937,"depth":180,"text":940},"markdown","content:deployment.md","content","deployment.md","deployment","md","default",["ShallowRef",982],["ShallowReactive",983],{"/deployment":984},[985,992],{"_path":986,"_dir":8,"_draft":9,"_partial":9,"_locale":8,"title":987,"description":988,"_type":974,"_id":989,"_source":976,"_file":990,"_stem":991,"_extension":979},"/cli","CLI","Analyze any build output with the BundleWatch CLI.","content:cli.md","cli.md","cli",{"_path":993,"_dir":8,"_draft":9,"_partial":9,"_locale":8,"title":994,"description":995,"_type":974,"_id":996,"_source":976,"_file":997,"_stem":998,"_extension":979},"/examples","Examples","Run the sample apps in this repo to see each integration in action.","content:examples.md","examples.md","examples",["ShallowRef",1000],{},[1002,1006,1007,1008,1009,1013,1017,1021,1025,1029,1033],{"title":1003,"_path":1004,"description":1005},"Architecture","/architecture","Understand how parsers, plugins, storage, and dashboards fit together.",{"title":987,"_path":986,"description":988},{"title":10,"_path":7,"description":11},{"title":994,"_path":993,"description":995},{"title":1010,"_path":1011,"description":1012},"Framework Recipes","/framework-recipes","Apply the Vite plugin to Nuxt, SvelteKit, SolidStart, and other frameworks.",{"title":1014,"_path":1015,"description":1016},"Getting Started","/getting-started","Install the docs workspace and connect BundleWatch to your builds.",{"title":1018,"_path":1019,"description":1020},"Welcome","/","Understand what BundleWatch solves and how the docs are organized.",{"title":1022,"_path":1023,"description":1024},"Next.js Plugin","/next","Add BundleWatch to Next.js builds with per-route metrics.",{"title":1026,"_path":1027,"description":1028},"Git Storage","/storage","How BundleWatch persists metrics in an orphan branch.",{"title":1030,"_path":1031,"description":1032},"Vite Plugin","/vite","Wire BundleWatch into Vite or Rollup builds.",{"title":1034,"_path":1035,"description":1036},"Webpack Plugin","/webpack","Parser-powered integration for Webpack 5 projects.",["Set"],["ShallowReactive",1039],{"content-query-zotGaIy77j":-1},1762641363229]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1762641359894,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["description","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"e4fe02ea-6bc8-45d4-bc4d-975b2487ed8f",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>