// ROLLUP_NO_REPLACE 
 const storage = "{\"parsed\":{\"_path\":\"/storage\",\"_dir\":\"\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"title\":\"Git Storage\",\"description\":\"How BundleWatch persists metrics in an orphan branch.\",\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"git-storage\"},\"children\":[{\"type\":\"text\",\"value\":\"ðŸ’¾ Git Storage\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"BundleWatch avoids external databases by storing metrics JSON files inside a dedicated Git branch (default: \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"bundlewatch-data\"}]},{\"type\":\"text\",\"value\":\"). Each CI run writes the current metrics and updates \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"latest.json\"}]},{\"type\":\"text\",\"value\":\" per branch. This keeps history auditable and makes comparisons trivial.\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"how-it-works\"},\"children\":[{\"type\":\"text\",\"value\":\"How it works\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"BundleWatch collects metrics after your build (plugins or CLI).\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Metrics get written to \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"data/<code-branch>/<timestamp>-<commit>.json\"}]},{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"latest.json\"}]},{\"type\":\"text\",\"value\":\" holds the most recent snapshot per branch for quick lookups.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"CI pushes the orphan branch back to origin.\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"code\":\".git/\\nâ””â”€ bundlewatch-data\\n   â””â”€ data/\\n      â”œâ”€ main/\\n      â”‚  â”œâ”€ 1730939472000-abc1234.json\\n      â”‚  â””â”€ latest.json\\n      â””â”€ feature/my-change/\\n         â””â”€ ...\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".git/\\nâ””â”€ bundlewatch-data\\n   â””â”€ data/\\n      â”œâ”€ main/\\n      â”‚  â”œâ”€ 1730939472000-abc1234.json\\n      â”‚  â””â”€ latest.json\\n      â””â”€ feature/my-change/\\n         â””â”€ ...\\n\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"configuring-ci\"},\"children\":[{\"type\":\"text\",\"value\":\"Configuring CI\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"code\":\"permissions:\\n  contents: write\\n\\nsteps:\\n  - uses: actions/checkout@v4\\n    with:\\n      fetch-depth: 0\\n  - run: pnpm install\\n  - run: pnpm build\\n\",\"language\":\"yaml\",\"meta\":\"\",\"className\":\"language-yaml shiki shiki-themes github-dark\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"permissions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\":\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"  contents\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\": \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"write\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"steps\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\":\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"  - \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"uses\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\": \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"actions/checkout@v4\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"    with\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\":\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"      fetch-depth\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\": \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#79B8FF\"},\"children\":[{\"type\":\"text\",\"value\":\"0\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"  - \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"run\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\": \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"pnpm install\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"  - \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#85E89D\"},\"children\":[{\"type\":\"text\",\"value\":\"run\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\": \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"pnpm build\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Set \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"saveToGit: true\"}]},{\"type\":\"text\",\"value\":\" (default in CI) on the plugin or CLI call so metrics are persisted automatically.\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"switching-branches-or-remotes\"},\"children\":[{\"type\":\"text\",\"value\":\"Switching branches or remotes\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"All storage helpers accept overrides:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"code\":\"const storage = new GitStorage({\\n  branch: 'bundlewatch-data',\\n  remote: 'origin',\\n});\\n\",\"language\":\"ts\",\"meta\":\"\",\"className\":\"language-ts shiki shiki-themes github-dark\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#F97583\"},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#79B8FF\"},\"children\":[{\"type\":\"text\",\"value\":\" storage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#F97583\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#F97583\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#B392F0\"},\"children\":[{\"type\":\"text\",\"value\":\" GitStorage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"({\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"  branch: \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"'bundlewatch-data'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"  remote: \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#9ECBFF\"},\"children\":[{\"type\":\"text\",\"value\":\"'origin'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#E1E4E8\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Keep the docs aligned with the code by updating this section whenever the storage contract changes.\"}]},{\"type\":\"element\",\"tag\":\"style\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"how-it-works\",\"depth\":2,\"text\":\"How it works\"},{\"id\":\"configuring-ci\",\"depth\":2,\"text\":\"Configuring CI\"},{\"id\":\"switching-branches-or-remotes\",\"depth\":2,\"text\":\"Switching branches or remotes\"}]}},\"_type\":\"markdown\",\"_id\":\"content:storage.md\",\"_source\":\"content\",\"_file\":\"storage.md\",\"_stem\":\"storage\",\"_extension\":\"md\"},\"hash\":\"r9Y6qdZARS\"}";

export { storage as default };
//# sourceMappingURL=storage.mjs.map
